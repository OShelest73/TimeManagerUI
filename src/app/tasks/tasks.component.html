<h1 class="page-heading text-uppercase mb-4">Детали задания</h1>

<div class="row justify-content-center detail-form">
    <div class="col-6 form-layout">
        <div class="task-detail-text">
            <div class="mb-2">Дата начала: {{task.startDate}}</div>
            <div class="mb-2">Дата завершения: {{task.finishDate}}</div>
            <div class="fw-bold mb-2 task-detail-task">Задание: {{task.taskName}}</div>
            <div>Описание:</div>
            <div class="mb-2">{{task.description}}</div>
            <div class="task-detail-task">
                <div>{{task.status}}</div>
            </div>
            <div class="mb-2">Оценка сложности: {{task.storyPoint}}</div>
            <div class="mb-2" *ngIf="task.notes">
                <div>Примечания к заданию:</div>
                <div class="mb-2">
                    {{task.notes}}
                </div>
            </div>

            <div>
                <button (click)="onAppoint()" *ngIf="permissions.includes('Tasks')" class="btn btn-outline-primary m-2">
                    Назначенные пользователи</button>
                <button (click)="modalService.open()" *ngIf="permissions.includes('Tasks')" class="btn btn-outline-primary m-2">
                    Изменить</button>
                <button (click)="onDelete()" *ngIf="permissions.includes('Tasks')" class="btn btn-outline-danger m-2">
                    Удалить</button>
            </div>
        </div>
    </div>
</div>

<app-modal-component *ngIf="modalService.isVisible$ | async" [title]="'Изменить задание'">
    <app-task-edit-form [workspaceId]="workspaceId" [task]="task">

    </app-task-edit-form>
</app-modal-component>